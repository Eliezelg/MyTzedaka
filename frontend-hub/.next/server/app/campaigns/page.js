(()=>{var e={};e.id=905,e.ids=[905,2],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2752:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>d}),t(2819),t(522),t(5866);var s=t(3191),r=t(8716),i=t(7922),n=t.n(i),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(a,c);let d=["",{children:["campaigns",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2819)),"D:\\Sites\\cc\\frontend-hub\\src\\app\\campaigns\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,522)),"D:\\Sites\\cc\\frontend-hub\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\Sites\\cc\\frontend-hub\\src\\app\\campaigns\\page.tsx"],m="/campaigns/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/campaigns/page",pathname:"/campaigns",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2524:(e,a,t)=>{Promise.resolve().then(t.bind(t,5065))},7358:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},5065:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(326),r=t(7577),i=t(434),n=t(6226),l=t(8307),c=t(3468),d=t(7069),o=t(8998),m=t(7358),u=t(1664),p=t(8443),h=t(9752),g=t(1190),x=t(3269),f=t(5405);function j(){let[e,a]=(0,r.useState)(""),[t,j]=(0,r.useState)("all"),{data:y,isLoading:b,error:N}=(0,f.t)({search:e,status:"all"===t?void 0:t}),v=y?.filter(a=>a.title.toLowerCase().includes(e.toLowerCase())||a.description?.toLowerCase().includes(e.toLowerCase()))||[],C=e=>(e.goalAmount?e.raisedAmount/e.goalAmount*100:0)>=100?s.jsx(p.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Compl\xe9t\xe9e"}):e.isActive?s.jsx(p.C,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Active"}):s.jsx(p.C,{variant:"outline",children:"Inactive"}),w=e=>{let a=new Date(e),t=new Date,s=Math.ceil((a.getTime()-t.getTime())/864e5);return s<0?"Termin\xe9e":0===s?"Derni\xe8re jour":1===s?"1 jour restant":`${s} jours restants`};return b?s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des campagnes..."})]})}):N?s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600",children:"Erreur lors du chargement des campagnes"}),s.jsx(u.z,{onClick:()=>window.location.reload(),className:"mt-4",children:"R\xe9essayer"})]})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Toutes les Campagnes"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"D\xe9couvrez et soutenez les campagnes de collecte en cours"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[s.jsx(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(g.I,{placeholder:"Rechercher une campagne...",value:e,onChange:e=>a(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(u.z,{variant:"all"===t?"default":"outline",onClick:()=>j("all"),size:"sm",children:"Toutes"}),s.jsx(u.z,{variant:"active"===t?"default":"outline",onClick:()=>j("active"),size:"sm",children:"Actives"}),s.jsx(u.z,{variant:"completed"===t?"default":"outline",onClick:()=>j("completed"),size:"sm",children:"Compl\xe9t\xe9es"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(h.Zb,{children:s.jsx(h.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(c.Z,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Campagnes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y?.length||0})]})]})})}),s.jsx(h.Zb,{children:s.jsx(h.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(d.Z,{className:"h-8 w-8 text-green-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Campagnes Actives"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y?.filter(e=>e.isActive).length||0})]})]})})}),s.jsx(h.Zb,{children:s.jsx(h.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(o.Z,{className:"h-8 w-8 text-orange-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Se Terminent Bient\xf4t"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y?.filter(e=>{if(!e.endDate)return!1;let a=Math.ceil((new Date(e.endDate).getTime()-new Date().getTime())/(1e3*60*60*24));return a<=7&&a>0}).length||0})]})]})})})]}),0===v.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500 text-lg",children:"Aucune campagne trouv\xe9e"}),e&&s.jsx(u.z,{variant:"outline",onClick:()=>a(""),className:"mt-4",children:"R\xe9initialiser la recherche"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>{let a=e.goalAmount?Math.min(e.raisedAmount/e.goalAmount*100,100):0;return s.jsx(i.default,{href:`/campaigns/${e.id}`,children:s.jsx(h.Zb,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:(0,s.jsxs)(h.aY,{className:"p-0",children:[(0,s.jsxs)("div",{className:"relative h-48 w-full",children:[e.image?s.jsx(n.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover rounded-t-lg"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-blue-200 rounded-t-lg flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(c.Z,{className:"h-12 w-12 text-blue-600 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-blue-700 font-medium",children:e.title.charAt(0).toUpperCase()})]})}),s.jsx("div",{className:"absolute top-4 left-4",children:C(e)})]}),(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:e.title}),e.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),e.goalAmount&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Collect\xe9"}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[Math.round(a),"%"]})]}),s.jsx(x.E,{value:a,className:"h-2 mb-2"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-900 font-medium",children:[e.raisedAmount?.toLocaleString("fr-FR")," €"]}),(0,s.jsxs)("span",{className:"text-gray-600",children:["/ ",e.goalAmount.toLocaleString("fr-FR")," €"]})]})]}),e.endDate&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(m.Z,{className:"h-4 w-4 mr-1"}),w(e.endDate)]})]})]})})},e.id)})})]})}},9752:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>l,Zb:()=>n,aY:()=>d,eW:()=>o,ll:()=>c});var s=t(326),r=t(7577),i=t(1223);let n=r.forwardRef(({className:e,hover:a=!1,shadow:t="soft",...r},n)=>s.jsx("div",{ref:n,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground overflow-hidden","soft"===t&&"shadow-soft","medium"===t&&"shadow-medium","large"===t&&"shadow-lg",a&&"hover-lift cursor-pointer",e),...r}));n.displayName="Card";let l=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle",r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a}));o.displayName="CardFooter"},3269:(e,a,t)=>{"use strict";t.d(a,{E:()=>n});var s=t(326),r=t(7577),i=t(1223);let n=r.forwardRef(({className:e,value:a=0,max:t=100,size:r="default",variant:n="default",showLabel:l=!1,label:c,...d},o)=>{let m=Math.min(a/t*100,100);return(0,s.jsxs)("div",{className:"w-full",ref:o,...d,children:[l&&(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:c||`${m.toFixed(0)}%`}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[a.toLocaleString()," / ",t.toLocaleString()]})]}),s.jsx("div",{className:(0,i.cn)("progress-bar",{sm:"h-2",default:"h-3",lg:"h-4"}[r],e),children:s.jsx("div",{className:(0,i.cn)("progress-fill rounded-full transition-all duration-700 ease-out",{default:"bg-gradient-to-r from-primary-500 to-primary-600",accent:"bg-gradient-to-r from-accent-500 to-accent-600",success:"bg-gradient-to-r from-green-500 to-green-600",warning:"bg-gradient-to-r from-orange-500 to-orange-600"}[n]),style:{width:`${m}%`}})})]})});n.displayName="Progress"},5405:(e,a,t)=>{"use strict";t.d(a,{y:()=>l,t:()=>c});var s=t(108),r=t(3002);class i{static async getCampaigns(e){return r.apiClient.get("/hub/campaigns",e)}static async getCampaign(e){return r.apiClient.get(`/hub/campaigns/${e}`)}static async getCampaignStats(e){return r.apiClient.get(`/hub/campaigns/${e}/stats`)}static async getCampaignDonations(e,a=1,t=20){return r.apiClient.get(`/hub/campaigns/${e}/donations`,{page:a,limit:t})}static async searchCampaigns(e,a){return r.apiClient.get("/hub/campaigns/search",{q:e,...a})}static async createCampaign(e){return r.apiClient.post("/hub/campaigns",e)}static async updateCampaign(e,a){return r.apiClient.put(`/hub/campaigns/${e}`,a)}static async deleteCampaign(e){return r.apiClient.delete(`/hub/campaigns/${e}`)}static async toggleCampaignStatus(e,a){return r.apiClient.patch(`/hub/campaigns/${e}/status`,{isActive:a})}static async donateToCampaign(e,a){return r.apiClient.post(`/hub/campaigns/${e}/donate`,a)}}let n={campaignDetail:e=>["campaign",e],campaigns:e=>["campaigns",e]};function l(e){return(0,s.a)({queryKey:n.campaignDetail(e),queryFn:async()=>{if(!e||"undefined"===e)throw Error("Campaign ID is required");return(await i.getCampaign(e)).data},enabled:!!e&&"undefined"!==e,staleTime:3e5,refetchOnWindowFocus:!1,retry:(e,a)=>!a.message?.includes("404")&&e<3})}function c(e={}){return(0,s.a)({queryKey:n.campaigns(e),queryFn:async()=>(await i.getCampaigns(e)).data||[],staleTime:3e5,refetchOnWindowFocus:!1})}},3002:(e,a,t)=>{"use strict";t.d(a,{ad:()=>n,apiClient:()=>i});var s=t(3244);class r{constructor(){this.baseURL="http://localhost:3002",this.defaultHeaders={"Content-Type":"application/json"}}setAuthToken(e){this.defaultHeaders={...this.defaultHeaders,Authorization:`Bearer ${e}`}}async request(e,a={}){let t=e.startsWith("/api")?e:`/api${e}`,s=`${this.baseURL}${t}`,r={headers:{...this.defaultHeaders,...a.headers},...a};try{let e=await fetch(s,r);if(!e.ok){let a=await e.json();throw Error(a.message||`HTTP Error: ${e.status}`)}return await e.json()}catch(e){throw console.error("API Request Error:",e),e}}async get(e,a){let t=new URLSearchParams;a&&Object.entries(a).forEach(([e,a])=>{null!=a&&t.append(e,String(a))});let s=t.toString(),r=s?`${e}?${s}`:e;return this.request(r,{method:"GET"})}async post(e,a){return this.request(e,{method:"POST",body:a?JSON.stringify(a):void 0})}async put(e,a){return this.request(e,{method:"PUT",body:a?JSON.stringify(a):void 0})}async patch(e,a){return this.request(e,{method:"PATCH",body:a?JSON.stringify(a):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}let i=new r;new s.S({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)},mutations:{retry:1}}});let n={associations:["associations"],associationsList:e=>[...n.associations,"list",e],associationDetail:e=>[...n.associations,"detail",e],associationCampaigns:e=>[...n.associations,e,"campaigns"],campaigns:["campaigns"],campaignsList:e=>[...n.campaigns,"list",e],campaignDetail:e=>[...n.campaigns,"detail",e],search:["search"],searchResults:(e,a)=>[...n.search,"results",e,a],searchSuggestions:e=>[...n.search,"suggestions",e],hub:["hub"],hubStats:()=>[...n.hub,"stats"],hubFeatured:()=>[...n.hub,"featured"]}},2819:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`D:\Sites\cc\frontend-hub\src\app\campaigns\page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[77,226,108,618],()=>t(2752));module.exports=s})();