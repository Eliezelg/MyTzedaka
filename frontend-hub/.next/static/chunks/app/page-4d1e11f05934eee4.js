(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2955:function(e,t,r){Promise.resolve().then(r.bind(r,6970))},6858:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},44:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},5302:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8997:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8896:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},525:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5805:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6970:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return G}});var a,i,s,n,o,c,l,d,u,m,h=r(7437),g=r(2265),p=r(44),x=r(5805),f=r(525),y=r(8997),v=r(9653),b=r(3247),w=r(6858),j=r(2381);function N(e){let{onSearchClick:t,onExploreClick:r}=e;return(0,h.jsxs)("section",{className:"relative bg-gradient-to-br from-primary-50 via-white to-secondary-50 py-20",children:[(0,h.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,h.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-gradient-to-br from-primary-200/30 to-transparent"}),(0,h.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-gradient-to-tr from-secondary-200/30 to-transparent"})]}),(0,h.jsx)("div",{className:"container mx-auto px-4 relative",children:(0,h.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,h.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-primary-200/50",children:[(0,h.jsx)(y.Z,{className:"w-4 h-4 text-accent-500"}),(0,h.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Plateforme de dons solidaires"})]}),(0,h.jsxs)(v.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["D\xe9couvrez et soutenez les"," ",(0,h.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-accent-600",children:"associations"})," ","qui vous tiennent \xe0 cœur"]}),(0,h.jsx)(v.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Explorez une communaut\xe9 d'associations v\xe9rifi\xe9es, d\xe9couvrez leurs campagnes de financement et contribuez \xe0 des causes qui transforment le monde."}),(0,h.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,h.jsxs)(j.z,{size:"xl",className:"group min-w-[200px]",onClick:t,children:[(0,h.jsx)(b.Z,{className:"w-5 h-5 mr-2"}),"Rechercher une cause",(0,h.jsx)(w.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),(0,h.jsxs)(j.z,{variant:"outline",size:"xl",className:"group min-w-[200px] bg-white/80 backdrop-blur-sm border-gray-300 hover:bg-white",onClick:r,children:["Explorer les associations",(0,h.jsx)(w.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),(0,h.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-16 grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-2xl mx-auto",children:[(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-1",children:"100+"}),(0,h.jsx)("div",{className:"text-sm text-gray-600",children:"Associations v\xe9rifi\xe9es"})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-3xl font-bold text-accent-600 mb-1",children:"50k€"}),(0,h.jsx)("div",{className:"text-sm text-gray-600",children:"Collect\xe9s ce mois"})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-3xl font-bold text-secondary-600 mb-1",children:"1000+"}),(0,h.jsx)("div",{className:"text-sm text-gray-600",children:"Donateurs actifs"})]})]})]})})]})}var C=r(9820),E=r(3448);let A={primary:{bg:"bg-primary-100",icon:"text-primary-600"},accent:{bg:"bg-accent-100",icon:"text-accent-600"},secondary:{bg:"bg-secondary-100",icon:"text-secondary-600"},orange:{bg:"bg-orange-100",icon:"text-orange-600"}};function k(e){let{title:t,value:r,icon:a,color:i="primary",format:s="number",currency:n="EUR",delay:o=0}=e;return(0,h.jsx)(v.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o},viewport:{once:!0},children:(0,h.jsxs)(C.Zb,{className:"text-center p-6 hover:shadow-medium transition-shadow duration-300",children:[(0,h.jsx)("div",{className:"w-16 h-16 ".concat(A[i].bg," rounded-full flex items-center justify-center mx-auto mb-4"),children:(0,h.jsx)(a,{className:"w-8 h-8 ".concat(A[i].icon)})}),(0,h.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:(e=>{if("string"==typeof e)return e;switch(s){case"currency":return(0,E.xG)(e,n);case"number":return(0,E.uf)(e);default:return e.toString()}})(r)}),(0,h.jsx)("div",{className:"text-gray-600 font-medium",children:t})]})})}var D=r(7410),R=r(2535),I=r(3377),M=r(1832),L=r(1713),O=r(3227);class T extends Error{constructor(e,t=500,r){super(e),this.status=t,this.code=r,this.name="HubApiError"}}class P extends T{constructor(e,t){super(e,400,"VALIDATION_ERROR"),this.field=t,this.name="DataValidationError"}}class Z extends T{constructor(e,t){super("".concat(e," with ID ").concat(t," not found"),404,"NOT_FOUND"),this.name="DataNotFoundError"}}class S{delay(e){return new Promise(t=>setTimeout(t,e))}async withRetry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0,r=Error("Unknown error");for(let a=1;a<=this.maxRetries;a++)try{return await e()}catch(s){r=s instanceof Error?s:Error("Erreur inconnue");let e=a===this.maxRetries,i=t(s);if(!e&&i){console.warn("Hub API retry ".concat(a,"/").concat(this.maxRetries,":"),r.message),await this.delay(this.retryDelay*a);continue}break}throw r}async getAssociations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Error("Unknown error");for(let r=1;r<=this.maxRetries;r++)try{let t={};e.category&&(t.category=e.category),e.location&&(t.location=e.location),void 0!==e.isVerified&&(t.verified=e.isVerified),e.search&&(t.search=e.search),e.sortBy&&(t.sortBy=e.sortBy),e.sortOrder&&(t.sortOrder=e.sortOrder),e.page&&(t.page=e.page),e.limit&&(t.limit=e.limit);let r=await this.apiClient.get("/hub/associations",t);if(!r.success)throw new T(r.message||"Erreur lors de la r\xe9cup\xe9ration des associations",500);if(!this.isValidAssociationsResponse(r.data))return console.warn("R\xe9ponse associations invalide:",r.data),{data:[],pagination:{page:1,limit:20,total:0,totalPages:0}};return r.data}catch(e){if(t=e instanceof Error?e:Error("Erreur inconnue"),r===this.maxRetries)break;await this.delay(this.retryDelay*r)}throw t}async getAssociation(e){if(!e)throw new T("Association ID is required",400);return this.withRetry(async()=>{try{let t=await this.apiClient.get("/hub/associations/".concat(e));if(!t.success||!t.data)throw new Z("Association",e);return this.validateAssociation(t.data)}catch(e){if(e instanceof T)throw e;throw new T("Failed to fetch association",500)}})}async getAssociationCampaigns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new T("Association ID is required",400);return this.withRetry(async()=>{let r=await this.apiClient.get("/hub/associations/".concat(e,"/campaigns"),t);if(!r.success||!r.data)throw new T("Failed to fetch association campaigns",500);let a=r.data.data.map(e=>this.validateCampaign(e));return{data:a,pagination:r.data.pagination||{page:t.page||1,limit:t.limit||20,total:a.length,totalPages:1}}})}async getCampaigns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Error("Unknown error");for(let r=1;r<=this.maxRetries;r++)try{let t={};e.associationId&&(t.associationId=e.associationId),e.status&&(t.status=e.status),e.category&&(t.category=e.category),e.targetAmountMin&&(t.targetAmountMin=e.targetAmountMin),e.targetAmountMax&&(t.targetAmountMax=e.targetAmountMax),e.progressMin&&(t.progressMin=e.progressMin),e.progressMax&&(t.progressMax=e.progressMax),e.location&&(t.location=e.location),e.search&&(t.search=e.search),e.sortBy&&(t.sortBy=e.sortBy),e.sortOrder&&(t.sortOrder=e.sortOrder),e.page&&(t.page=e.page),e.limit&&(t.limit=e.limit);let r=await this.apiClient.get("/hub/campaigns",t);if(!r.success)throw new T(r.message||"Erreur lors de la r\xe9cup\xe9ration des campagnes",500);if(!this.isValidCampaignsResponse(r.data))return console.warn("R\xe9ponse campagnes invalide:",r.data),{data:[],pagination:{page:1,limit:20,total:0,totalPages:0}};return r.data}catch(e){if(t=e instanceof Error?e:Error("Erreur inconnue"),r===this.maxRetries)break;await this.delay(this.retryDelay*r)}throw t}async getCampaign(e){if(!e)throw new T("Campaign ID is required",400);return this.withRetry(async()=>{try{let t=await this.apiClient.get("/hub/campaigns/".concat(e));if(!t.success||!t.data)throw new Z("Campaign",e);return this.validateCampaign(t.data)}catch(e){if(e instanceof T)throw e;throw new T("Failed to fetch campaign",500)}})}async search(e){let t=Error("Unknown error");for(let r=1;r<=this.maxRetries;r++)try{let t={};e.query&&(t.query=e.query),e.type&&(t.type=e.type),e.category&&(t.category=e.category),e.location&&(t.location=e.location),e.page&&(t.page=e.page),e.limit&&(t.limit=e.limit);let r=await this.apiClient.get("/hub/search",t);if(!r.success)throw new T(r.message||"Erreur lors de la recherche",500);if(!r.data||"object"!=typeof r.data)return{associations:[],campaigns:[],total:0};return r.data}catch(e){if(t=e instanceof Error?e:Error("Erreur inconnue"),r===this.maxRetries)break;await this.delay(this.retryDelay*r)}throw t}async getHubStats(){return this.withRetry(async()=>{try{let e=await this.apiClient.get("/hub/stats");if(!e.success||!e.data)throw new T("Impossible de r\xe9cup\xe9rer les statistiques du hub",500);return e.data}catch(e){if(e instanceof T)throw e;throw new T("Erreur lors de la r\xe9cup\xe9ration des statistiques: ".concat(e),500)}})}async getAssociationMetrics(e){let t=Error("Unknown error");for(let r=1;r<=this.maxRetries;r++)try{let t=await this.apiClient.get("/hub/associations/".concat(e,"/metrics"));if(!t.success)throw new T(t.message||"Erreur lors de la r\xe9cup\xe9ration des m\xe9triques",500);return t.data||{totalDonations:0,totalAmount:0,averageDonation:0,donorsCount:0,monthlyGrowth:0,topDonors:[]}}catch(e){if(t=e instanceof Error?e:Error("Erreur inconnue"),r===this.maxRetries)break;await this.delay(this.retryDelay*r)}throw t}async getCampaignMetrics(e){let t=Error("Unknown error");for(let r=1;r<=this.maxRetries;r++)try{let t=await this.apiClient.get("/hub/campaigns/".concat(e,"/metrics"));if(!t.success)throw new T(t.message||"Erreur lors de la r\xe9cup\xe9ration des m\xe9triques",500);return t.data||{currentAmount:0,donationsCount:0,progressPercentage:0,averageDonation:0,recentDonations:[]}}catch(e){if(t=e instanceof Error?e:Error("Erreur inconnue"),r===this.maxRetries)break;await this.delay(this.retryDelay*r)}throw t}isValidAssociationsResponse(e){return e&&"object"==typeof e&&Array.isArray(e.data)&&"object"==typeof e.pagination&&"number"==typeof e.pagination.page&&"number"==typeof e.pagination.limit&&"number"==typeof e.pagination.total&&"number"==typeof e.pagination.totalPages}isValidCampaignsResponse(e){return e&&"object"==typeof e&&Array.isArray(e.data)&&"object"==typeof e.pagination&&"number"==typeof e.pagination.page&&"number"==typeof e.pagination.limit&&"number"==typeof e.pagination.total&&"number"==typeof e.pagination.totalPages}validateAssociation(e){if(!e||"object"!=typeof e)throw new P("Invalid association data");if(!e.id||"string"!=typeof e.id)throw new P("Association ID is required","id");if(!e.name||"string"!=typeof e.name)throw new P("Association name is required","name");return e}validateCampaign(e){if(!e||"object"!=typeof e)throw new P("Invalid campaign data");if(!e.id||"string"!=typeof e.id)throw new P("Campaign ID is required","id");if(!e.title||"string"!=typeof e.title)throw new P("Campaign title is required","title");return e}constructor(){this.maxRetries=3,this.retryDelay=1e3,this.apiClient=new O.Sl}}let U=new S,F={hub:["hub"],stats:()=>[...F.hub,"stats"],associations:()=>[...F.hub,"associations"],associationsList:e=>[...F.associations(),"list",e],associationDetail:e=>[...F.associations(),"detail",e],associationMetrics:e=>[...F.associations(),"metrics",e],associationCampaigns:(e,t)=>[...F.associations(),e,"campaigns",t],campaigns:()=>[...F.hub,"campaigns"],campaignsList:e=>[...F.campaigns(),"list",e],campaignDetail:e=>[...F.campaigns(),"detail",e],campaignMetrics:e=>[...F.campaigns(),"metrics",e],search:e=>[...F.hub,"search",e]},q={staleTime:3e5,gcTime:6e5,retry:(e,t)=>(!(t instanceof T)||404!==t.status)&&e<3,retryDelay:e=>Math.min(1e3*2**e,3e4)};function V(e){return{id:e.id,name:e.name,description:e.description||"",logoUrl:e.logoUrl,coverImage:e.logoUrl,category:e.category,location:"".concat(e.city||"",", ").concat(e.country||"").trim().replace(/^,\s*|,\s*$/g,"")||"Non sp\xe9cifi\xe9",city:e.city,country:e.country,isVerified:e.isVerified,isPublic:e.isPublic,hasSite:e.hasSite,siteUrl:e.siteUrl,tenantId:"default",activeCampaigns:e.activeCampaignsCount,totalCampaigns:e.activeCampaignsCount,donationsCount:e.donationsCount,totalRaised:e.totalRaised,createdAt:e.createdAt,updatedAt:e.createdAt}}function z(e){return{id:e.id,tenantId:e.tenantId,userId:"default",title:e.title,description:e.description||"",goal:e.goal,currency:e.currency,startDate:e.startDate,endDate:e.endDate,status:e.status,isActive:"ACTIVE"===e.status,createdAt:e.startDate,updatedAt:e.startDate,raised:e.currentAmount,donorCount:e.donationsCount}}function B(){let{data:e,isLoading:t,error:r}=(0,L.a)({queryKey:F.stats(),queryFn:()=>U.getHubStats(),...q});if(t)return(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,t)=>(0,h.jsx)(I.ym,{className:"h-32"},t))});if(r)return(0,h.jsxs)("div",{className:"text-center py-8",children:[(0,h.jsx)("p",{className:"text-red-600 mb-4",children:"Erreur lors du chargement des statistiques"}),(0,h.jsx)(j.z,{onClick:()=>window.location.reload(),children:"R\xe9essayer"})]});let a=e?[{title:"Associations",value:e.totalAssociations,icon:p.Z,description:"Associations actives"},{title:"Donateurs",value:e.totalDonations,icon:x.Z,description:"Personnes qui donnent"},{title:"Montant collect\xe9",value:"".concat(e.totalAmount.toLocaleString(),"€"),icon:f.Z,description:"Total des dons"},{title:"Campagnes",value:e.totalCampaigns,icon:y.Z,description:"Campagnes actives"}]:[];return(0,h.jsx)(M.v3,{children:(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(e=>(0,h.jsx)(M.xH,{children:(0,h.jsx)(k,{...e})},e.title))})})}function _(){let{data:e,isLoading:t,error:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,L.a)({queryKey:F.associationsList(e),queryFn:()=>U.getAssociations(e),...q,...t})}({limit:6,sortBy:"totalRaised",sortOrder:"desc"});if(t)return(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,h.jsx)(I.ym,{className:"h-64"},t))});if(r)return(0,h.jsxs)("div",{className:"text-center py-8",children:[(0,h.jsxs)("p",{className:"text-red-600 mb-4",children:["Erreur lors du chargement des associations: ",(null==r?void 0:r.message)||"Erreur inconnue"]}),(0,h.jsx)(j.z,{onClick:()=>window.location.reload(),children:"R\xe9essayer"})]});let a=(null==e?void 0:e.data)?e.data.map(V):[];return a&&0!==a.length?(0,h.jsx)(M.v3,{children:(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>(0,h.jsx)(M.xH,{children:(0,h.jsx)(D.p,{association:e})},e.id))})}):(0,h.jsx)("div",{className:"text-center py-8",children:(0,h.jsx)("p",{className:"text-gray-600",children:"Aucune association trouv\xe9e"})})}function H(){let{data:e,isLoading:t,error:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,L.a)({queryKey:F.campaignsList(e),queryFn:()=>U.getCampaigns(e),...q,...t})}({limit:6,sortBy:"currentAmount",sortOrder:"desc",status:d.ACTIVE});if(t)return(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,h.jsx)(I.ym,{className:"h-80"},t))});if(r)return(0,h.jsxs)("div",{className:"text-center py-8",children:[(0,h.jsx)("p",{className:"text-red-600 mb-4",children:"Erreur lors du chargement des campagnes"}),(0,h.jsx)(j.z,{onClick:()=>window.location.reload(),children:"R\xe9essayer"})]});let a=e?(Array.isArray(e)?e:[]).map(z):[];return(0,h.jsx)(M.v3,{children:(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>(0,h.jsx)(M.xH,{children:(0,h.jsx)(R.p,{campaign:e})},e.id))})})}function G(){return(0,h.jsxs)("main",{children:[(0,h.jsx)(N,{onSearchClick:()=>{console.log("Recherche clicked")},onExploreClick:()=>{console.log("Explorer clicked")}}),(0,h.jsx)(g.Suspense,{fallback:(0,h.jsx)("div",{children:"Chargement..."}),children:(0,h.jsx)(B,{})}),(0,h.jsx)(g.Suspense,{fallback:(0,h.jsx)("div",{children:"Chargement..."}),children:(0,h.jsx)(_,{})}),(0,h.jsx)(g.Suspense,{fallback:(0,h.jsx)("div",{children:"Chargement..."}),children:(0,h.jsx)(H,{})})]})}(a=c||(c={})).DONATOR="DONATOR",a.ASSOCIATION_ADMIN="ASSOCIATION_ADMIN",a.PLATFORM_ADMIN="PLATFORM_ADMIN",(i=l||(l={})).WEB="WEB",i.MOBILE="MOBILE",i.IMPORT="IMPORT",(s=d||(d={})).DRAFT="DRAFT",s.ACTIVE="ACTIVE",s.PAUSED="PAUSED",s.COMPLETED="COMPLETED",s.CANCELLED="CANCELLED",(n=u||(u={})).RELIGIOUS="RELIGIOUS",n.CULTURAL="CULTURAL",n.EDUCATIONAL="EDUCATIONAL",n.SOCIAL="SOCIAL",n.FUNDRAISING="FUNDRAISING",(o=m||(m={})).DRAFT="DRAFT",o.PUBLISHED="PUBLISHED",o.CANCELLED="CANCELLED",o.COMPLETED="COMPLETED"},7410:function(e,t,r){"use strict";r.d(t,{p:function(){return g}});var a=r(7437),i=r(9653),s=r(44),n=r(5302),o=r(3774),c=r(6858),l=r(9820),d=r(9174),u=r(2381),m=r(3448),h=r(3145);function g(e){let{association:t,index:r=0,onClick:g}=e,p=()=>{null==g||g(t)};return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*r},viewport:{once:!0},children:(0,a.jsxs)(l.Zb,{hover:!0,shadow:"soft",className:"h-full flex flex-col cursor-pointer",onClick:p,children:[(0,a.jsxs)("div",{className:"h-48 bg-gradient-to-br from-primary-100 to-secondary-100 relative overflow-hidden",children:[t.coverImage?(0,a.jsx)(h.default,{src:t.coverImage,alt:t.name,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(s.Z,{className:"w-16 h-16 text-primary-300"})}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[(0,a.jsx)(d.C,{variant:"accent",children:t.category}),t.isVerified&&(0,a.jsxs)(d.C,{variant:"verified",className:"flex items-center gap-1",children:[(0,a.jsx)(n.Z,{className:"w-3 h-3"}),"V\xe9rifi\xe9e"]})]})]}),(0,a.jsx)(l.aY,{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 flex items-center",children:[t.name,t.isVerified&&(0,a.jsx)(n.Z,{className:"ml-2 w-5 h-5 text-accent-500"})]}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed",children:(0,m.aF)(t.description,120)})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),t.location]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:t.activeCampaigns}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Campagne",t.activeCampaigns>1?"s":""," active",t.activeCampaigns>1?"s":""]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-secondary-600",children:t.totalCampaigns}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Total campagnes"})]})]})]})}),(0,a.jsx)(l.eW,{className:"p-6 pt-0",children:(0,a.jsxs)(u.z,{variant:"outline",className:"w-full group",onClick:e=>{e.stopPropagation(),p()},children:["D\xe9couvrir",(0,a.jsx)(c.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})})}},2535:function(e,t,r){"use strict";r.d(t,{p:function(){return x}});var a=r(7437),i=r(9653),s=r(5805),n=r(1047),o=r(8896),c=r(6858),l=r(9820),d=r(9174),u=r(2381),m=r(7204),h=r(3448);let g={DRAFT:"secondary",ACTIVE:"success",PAUSED:"warning",COMPLETED:"accent",CANCELLED:"destructive"},p={DRAFT:"Brouillon",ACTIVE:"Active",PAUSED:"En pause",COMPLETED:"Termin\xe9e",CANCELLED:"Annul\xe9e"};function x(e){var t;let{campaign:r,index:x=0,onClick:f}=e,y=r.raised||0,v=r.donorCount||(null===(t=r._count)||void 0===t?void 0:t.donations)||0,b=(0,h.SB)(y,r.goal),w="ACTIVE"===r.status,j=new Date(r.endDate)<new Date,N=()=>{null==f||f(r)};return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*x},viewport:{once:!0},children:(0,a.jsxs)(l.Zb,{hover:!0,shadow:"soft",className:"h-full flex flex-col cursor-pointer",onClick:N,children:[(0,a.jsxs)(l.Ol,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsx)(d.C,{variant:g[r.status],children:p[r.status]}),r.tenant&&(0,a.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:r.tenant.name})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 leading-tight",children:r.title}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:(0,h.aF)(r.description,100)})]}),(0,a.jsxs)(l.aY,{className:"flex-1 space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(m.E,{value:y,max:r.goal,variant:"accent",showLabel:!0,label:"".concat(b.toFixed(0),"% collect\xe9")})}),(0,a.jsx)("div",{className:"flex justify-between items-center text-sm",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:(0,h.xG)(y,r.currency)}),(0,a.jsxs)("span",{className:"text-gray-500 ml-1",children:["/ ",(0,h.xG)(r.goal,r.currency)]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm",children:[(0,a.jsx)(s.Z,{className:"w-4 h-4 mr-2"}),v," donateur",v>1?"s":""]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 mr-2"}),j?"Expir\xe9e":"Fin ".concat((0,h.p6)(r.endDate))]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600 text-sm",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Objectif: ",(0,h.xG)(r.goal,r.currency)]})]}),(0,a.jsx)(l.eW,{className:"pt-0",children:w&&!j?(0,a.jsxs)(u.z,{variant:"primary",className:"w-full group",onClick:e=>{e.stopPropagation(),N()},children:["Faire un don",(0,a.jsx)(c.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}):(0,a.jsxs)(u.z,{variant:"outline",className:"w-full group",onClick:e=>{e.stopPropagation(),N()},children:["Voir d\xe9tails",(0,a.jsx)(c.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})})}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var a=r(7437);r(2265);var i=r(535),s=r(3448);let n=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",accent:"border-transparent bg-accent-100 text-accent-700 hover:bg-accent-200",success:"border-transparent bg-green-100 text-green-700 hover:bg-green-200",warning:"border-transparent bg-orange-100 text-orange-700 hover:bg-orange-200",destructive:"border-transparent bg-red-100 text-red-700 hover:bg-red-200",outline:"text-foreground border-border",verified:"border-transparent bg-green-500 text-white"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...i}=e;return(0,a.jsx)("div",{className:(0,s.cn)(n({variant:r}),t),...i})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var a=r(7437),i=r(2265),s=r(535),n=r(3448);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 active:bg-gray-100",accent:"bg-accent-600 text-white hover:bg-accent-700 active:bg-accent-800",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700"},size:{sm:"h-9 px-3 text-xs",default:"h-10 px-4 py-2",lg:"h-11 px-8",xl:"h-12 px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,loading:c=!1,children:l,disabled:d,...u}=e;return(0,a.jsxs)("button",{className:(0,n.cn)(o({variant:i,size:s,className:r})),ref:t,disabled:d||c,...u,children:[c&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})});c.displayName="Button"},7204:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var a=r(7437),i=r(2265),s=r(3448);let n=i.forwardRef((e,t)=>{let{className:r,value:i=0,max:n=100,size:o="default",variant:c="default",showLabel:l=!1,label:d,...u}=e,m=Math.min(i/n*100,100);return(0,a.jsxs)("div",{className:"w-full",ref:t,...u,children:[l&&(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:d||"".concat(m.toFixed(0),"%")}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[i.toLocaleString()," / ",n.toLocaleString()]})]}),(0,a.jsx)("div",{className:(0,s.cn)("progress-bar",{sm:"h-2",default:"h-3",lg:"h-4"}[o],r),children:(0,a.jsx)("div",{className:(0,s.cn)("progress-fill rounded-full transition-all duration-700 ease-out",{default:"bg-gradient-to-r from-primary-500 to-primary-600",accent:"bg-gradient-to-r from-accent-500 to-accent-600",success:"bg-gradient-to-r from-green-500 to-green-600",warning:"bg-gradient-to-r from-orange-500 to-orange-600"}[c]),style:{width:"".concat(m,"%")}})})]})});n.displayName="Progress"},3448:function(e,t,r){"use strict";r.d(t,{SB:function(){return d},aF:function(){return c},cn:function(){return s},p6:function(){return l},uf:function(){return o},xG:function(){return n}});var a=r(1994),i=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,a.W)(t))}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t}).format(e)}function o(e){return new Intl.NumberFormat("fr-FR").format(e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?e:e.slice(0,t)+"..."}function l(e){return new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}function d(e,t){return 0===t?0:Math.min(e/t*100,100)}},8614:function(e,t,r){"use strict";r.d(t,{M:function(){return f}});var a=r(7437),i=r(2265),s=r(8881),n=r(3576),o=r(4252),c=r(5750);class l extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,s=(0,i.useId)(),n=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,i.useContext)(c._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:i}=o.current;if(r||!n.current||!e||!t)return;n.current.dataset.motionPopId=s;let c=document.createElement("style");return d&&(c.nonce=d),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[r]),(0,a.jsx)(l,{isPresent:r,childRef:n,sizeRef:o,children:i.cloneElement(t,{ref:n})})}let u=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:c,custom:l,presenceAffectsLayout:u,mode:h}=e,g=(0,n.h)(m),p=(0,i.useId)(),x=(0,i.useCallback)(e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;c&&c()},[g,c]),f=(0,i.useMemo)(()=>({id:p,initial:r,isPresent:s,custom:l,onExitComplete:x,register:e=>(g.set(e,!1),()=>g.delete(e))}),u?[Math.random(),x]:[s,x]);return(0,i.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[s]),i.useEffect(()=>{s||g.size||!c||c()},[s]),"popLayout"===h&&(t=(0,a.jsx)(d,{isPresent:s,children:t})),(0,a.jsx)(o.O.Provider,{value:f,children:t})};function m(){return new Map}var h=r(9609);let g=e=>e.key||"";function p(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var x=r(1534);let f=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:c,presenceAffectsLayout:l=!0,mode:d="sync",propagate:m=!1}=e,[f,y]=(0,h.oO)(m),v=(0,i.useMemo)(()=>p(t),[t]),b=m&&!f?[]:v.map(g),w=(0,i.useRef)(!0),j=(0,i.useRef)(v),N=(0,n.h)(()=>new Map),[C,E]=(0,i.useState)(v),[A,k]=(0,i.useState)(v);(0,x.L)(()=>{w.current=!1,j.current=v;for(let e=0;e<A.length;e++){let t=g(A[e]);b.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[A,b.length,b.join("-")]);let D=[];if(v!==C){let e=[...v];for(let t=0;t<A.length;t++){let r=A[t],a=g(r);b.includes(a)||(e.splice(t,0,r),D.push(r))}"wait"===d&&D.length&&(e=D),k(p(e)),E(v);return}let{forceRender:R}=(0,i.useContext)(s.p);return(0,a.jsx)(a.Fragment,{children:A.map(e=>{let t=g(e),i=(!m||!!f)&&(v===A||b.includes(t));return(0,a.jsx)(u,{isPresent:i,initial:(!w.current||!!o)&&void 0,custom:i?void 0:r,presenceAffectsLayout:l,mode:d,onExitComplete:i?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),k(j.current),m&&(null==y||y()),c&&c())},children:e},t)})})}}},function(e){e.O(0,[543,828,815,713,966,971,117,744],function(){return e(e.s=2955)}),_N_E=e.O()}]);