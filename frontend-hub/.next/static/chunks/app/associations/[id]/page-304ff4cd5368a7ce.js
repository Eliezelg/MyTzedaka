(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6661:function(e,s,a){Promise.resolve().then(a.bind(a,9132))},9132:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return em}});var t=a(7437),i=a(2265),l=a(9376),r=a(9653),c=a(5863),n=a(5302),o=a(3774),d=a(1047),m=a(8997),x=a(525),h=a(3327),g=a(5805),u=a(2135),p=a(875),j=a(9345),N=a(3041),v=a(9202),b=a(2718),f=a(6362),y=a(7648),w=a(3145),Z=a(2381),C=a(9174),k=a(9820),z=a(7204),A=a(3397),S=a(8614),T=a(9219),E=a(2351),I=a(598),D=a(7100),R=a(8867),P=a(8919),L=a(2489);function M(e){let{url:s,title:a,description:l="",hashtags:c=[],via:n="",className:o="",variant:d="buttons"}=e,[m,x]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),N=encodeURIComponent(s),v=encodeURIComponent(a),f=encodeURIComponent(l),y=c.map(e=>"#".concat(e)).join(" "),w=[{name:"Facebook",icon:T.Z,color:"bg-blue-600 hover:bg-blue-700",url:"https://www.facebook.com/sharer/sharer.php?u=".concat(N),label:"Partager sur Facebook"},{name:"Twitter",icon:E.Z,color:"bg-sky-500 hover:bg-sky-600",url:"https://twitter.com/intent/tweet?url=".concat(N,"&text=").concat(v).concat(n?"&via=".concat(n):"").concat(y?"&hashtags=".concat(y.replace(/#/g,"")):""),label:"Partager sur Twitter"},{name:"LinkedIn",icon:I.Z,color:"bg-blue-700 hover:bg-blue-800",url:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(N),label:"Partager sur LinkedIn"},{name:"WhatsApp",icon:b.Z,color:"bg-green-600 hover:bg-green-700",url:"https://wa.me/?text=".concat(v,"%20").concat(N),label:"Partager sur WhatsApp"},{name:"Email",icon:j.Z,color:"bg-gray-600 hover:bg-gray-700",url:"mailto:?subject=".concat(v,"&body=").concat(f,"%0A%0A").concat(N),label:"Partager par email"}],C=async()=>{if(navigator.share)try{await navigator.share({title:a,text:l,url:s})}catch(e){console.log("Erreur partage natif:",e),x(!0)}else x(!0)},z=async()=>{try{await navigator.clipboard.writeText(s),g(!0),setTimeout(()=>g(!1),2e3)}catch(e){console.error("Erreur copie:",e)}},A=e=>{window.open(e,"_blank","width=600,height=400,scrollbars=yes,resizable=yes")};return"buttons"===d?(0,t.jsxs)("div",{className:"flex gap-2 ".concat(o),children:[w.slice(0,3).map(e=>{let s=e.icon;return(0,t.jsxs)(Z.z,{variant:"outline",size:"sm",onClick:()=>A(e.url),className:"flex-1",children:[(0,t.jsx)(s,{className:"w-4 h-4 mr-2"}),e.name]},e.name)}),(0,t.jsx)(Z.z,{variant:"outline",size:"sm",onClick:z,children:h?(0,t.jsx)(D.Z,{className:"w-4 h-4"}):(0,t.jsx)(R.Z,{className:"w-4 h-4"})})]}):"dropdown"===d?(0,t.jsxs)("div",{className:"relative ".concat(o),children:[(0,t.jsxs)(Z.z,{variant:"outline",size:"sm",onClick:()=>p(!u),children:[(0,t.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Partager"]}),(0,t.jsx)(S.M,{children:u&&(0,t.jsx)(r.E.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:(0,t.jsxs)("div",{className:"p-2",children:[w.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>{A(e.url),p(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 rounded-md transition-colors",children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.label]},e.name)}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsxs)("button",{onClick:()=>{z(),p(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 rounded-md transition-colors",children:[h?(0,t.jsx)(D.Z,{className:"w-4 h-4 text-green-600"}):(0,t.jsx)(R.Z,{className:"w-4 h-4"}),h?"Copi\xe9 !":"Copier le lien"]})]})})}),u&&(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(Z.z,{onClick:C,variant:"outline",size:"sm",className:o,children:[(0,t.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Partager"]}),(0,t.jsx)(S.M,{children:m&&(0,t.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>x(!1),children:(0,t.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Partager"}),(0,t.jsx)(Z.z,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:(0,t.jsx)(L.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(k.Zb,{className:"p-4 bg-gray-50",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 line-clamp-2",children:a}),l&&(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3",children:l}),(0,t.jsx)("div",{className:"text-xs text-blue-600 mt-2 truncate",children:s})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:w.map(e=>{let s=e.icon;return(0,t.jsxs)(Z.z,{variant:"outline",onClick:()=>A(e.url),className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.name]},e.name)})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-50"}),(0,t.jsx)(Z.z,{onClick:z,variant:"outline",size:"sm",children:h?(0,t.jsx)(D.Z,{className:"w-4 h-4 text-green-600"}):(0,t.jsx)(R.Z,{className:"w-4 h-4"})})]}),h&&(0,t.jsx)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-green-600 text-sm text-center",children:"Lien copi\xe9 dans le presse-papiers !"})]})]})})})]})}var V=a(8098),F=a(6266),U=a(5868),O=a(8930),_=a(6211);function q(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return new Intl.NumberFormat("fr-FR",{style:"currency",currency:s}).format(e)}function B(e){return new Intl.NumberFormat("fr-FR").format(e)}function G(e){let s=Math.floor((new Date().getTime()-e.getTime())/864e5);return 0===s?"Aujourd'hui":1===s?"Hier":s<7?"Il y a ".concat(s," jours"):s<30?"Il y a ".concat(Math.floor(s/7)," semaines"):s<365?"Il y a ".concat(Math.floor(s/30)," mois"):"Il y a ".concat(Math.floor(s/365)," ans")}function H(e){let{targetId:s,targetType:a,comments:l=[],allowComments:r=!0,currentUserId:c,className:n=""}=e,[o,d]=(0,i.useState)(l),[m,x]=(0,i.useState)(""),[h,g]=(0,i.useState)(null),[u,p]=(0,i.useState)(""),[j,N]=(0,i.useState)(!1),[v,f]=(0,i.useState)("recent");(0,i.useEffect)(()=>{(async()=>{N(!0),await new Promise(e=>setTimeout(e,500)),d(J),N(!1)})()},[s,a]);let y=async()=>{if(!m.trim())return;let e={id:Date.now().toString(),author:{id:c||"anonymous",name:"Utilisateur Connect\xe9",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40&h=40&fit=crop&crop=face",isVerified:!1},content:m,createdAt:new Date().toISOString(),likes:0,isLiked:!1,replies:[]};d(s=>[e,...s]),x(""),console.log("Nouveau commentaire:",e)},w=async e=>{if(!u.trim())return;let s={id:Date.now().toString(),author:{id:c||"anonymous",name:"Utilisateur Connect\xe9",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40&h=40&fit=crop&crop=face"},content:u,createdAt:new Date().toISOString(),likes:0,isLiked:!1};d(a=>a.map(a=>a.id===e?{...a,replies:[...a.replies||[],s]}:a)),g(null),p("")},C=e=>{d(s=>s.map(s=>s.id===e?{...s,isLiked:!s.isLiked,likes:s.isLiked?s.likes-1:s.likes+1}:s))},z=e=>{d(s=>s.filter(s=>s.id!==e))},A=[...o].sort((e,s)=>{switch(v){case"popular":return s.likes-e.likes;case"oldest":return new Date(e.createdAt).getTime()-new Date(s.createdAt).getTime();default:return new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()}});return(0,t.jsxs)("div",{className:"space-y-6 ".concat(n),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Z,{className:"w-5 h-5 text-gray-600"}),(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Commentaires (",o.length,")"]})]}),o.length>0&&(0,t.jsxs)("select",{value:v,onChange:e=>f(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"recent",children:"Plus r\xe9cents"}),(0,t.jsx)("option",{value:"popular",children:"Plus populaires"}),(0,t.jsx)("option",{value:"oldest",children:"Plus anciens"})]})]}),r&&(0,t.jsx)(k.Zb,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),placeholder:"Partagez votre opinion ou vos encouragements...",className:"w-full p-3 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Soyez respectueux et constructif dans vos commentaires"}),(0,t.jsx)(Z.z,{onClick:y,disabled:!m.trim(),size:"sm",children:"Publier"})]})]})}),j?(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)(k.Zb,{className:"p-4 animate-pulse",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-300 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]})},e))}):0===A.length?(0,t.jsxs)(k.Zb,{className:"p-8 text-center",children:[(0,t.jsx)(b.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun commentaire pour le moment"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Soyez le premier \xe0 partager votre opinion !"})]}):(0,t.jsx)("div",{className:"space-y-4",children:A.map(e=>(0,t.jsx)(W,{comment:e,currentUserId:c,onLike:()=>C(e.id),onReply:()=>g(e.id),onDelete:()=>z(e.id),isReplying:h===e.id,replyContent:u,setReplyContent:p,onSubmitReply:()=>w(e.id),onCancelReply:()=>g(null)},e.id))})]})}function W(e){let{comment:s,currentUserId:a,onLike:l,onReply:c,onDelete:n,isReplying:o,replyContent:d,setReplyContent:x,onSubmitReply:h,onCancelReply:g}=e,[u,p]=(0,i.useState)(!1),[j,N]=(0,i.useState)(!1),[v,b]=(0,i.useState)(s.content),f=a===s.author.id;return(0,t.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group",children:(0,t.jsx)(k.Zb,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:s.author.avatar?(0,t.jsx)(w.default,{src:s.author.avatar,alt:s.author.name,width:40,height:40,className:"rounded-full"}):(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-5 h-5 text-gray-600"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:s.author.name}),s.author.isVerified&&(0,t.jsx)(C.C,{variant:"secondary",className:"text-xs",children:"V\xe9rifi\xe9"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:G(new Date(s.createdAt))}),s.isEdited&&(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"(modifi\xe9)"})]}),j?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("textarea",{value:v,onChange:e=>b(e.target.value),className:"w-full p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(Z.z,{size:"sm",onClick:()=>{console.log("Modifier le commentaire:",s.id,v),N(!1)},children:"Sauvegarder"}),(0,t.jsx)(Z.z,{size:"sm",variant:"outline",onClick:()=>N(!1),children:"Annuler"})]})]}):(0,t.jsx)("p",{className:"text-gray-900 mb-3 whitespace-pre-wrap",children:s.content}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{onClick:l,className:"flex items-center gap-1 text-sm transition-colors ".concat(s.isLiked?"text-red-600 hover:text-red-700":"text-gray-500 hover:text-red-600"),children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 ".concat(s.isLiked?"fill-current":"")}),s.likes>0&&s.likes]}),(0,t.jsxs)("button",{onClick:c,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600 transition-colors",children:[(0,t.jsx)(V.Z,{className:"w-4 h-4"}),"R\xe9pondre"]}),f&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>p(!u),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(F.Z,{className:"w-4 h-4"})}),(0,t.jsx)(S.M,{children:u&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute top-6 right-0 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:[(0,t.jsxs)("button",{onClick:()=>{N(!0),p(!1)},className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 w-full text-left",children:[(0,t.jsx)(U.Z,{className:"w-4 h-4"}),"Modifier"]}),(0,t.jsxs)("button",{onClick:()=>{n(),p(!1)},className:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[(0,t.jsx)(O.Z,{className:"w-4 h-4"}),"Supprimer"]})]})})]}),(0,t.jsxs)("button",{className:"flex items-center gap-1 text-sm text-gray-400 hover:text-gray-600 transition-colors",children:[(0,t.jsx)(_.Z,{className:"w-4 h-4"}),"Signaler"]})]}),(0,t.jsx)(S.M,{children:o&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 space-y-2",children:[(0,t.jsx)("textarea",{value:d,onChange:e=>x(e.target.value),placeholder:"R\xe9pondre \xe0 ".concat(s.author.name,"..."),className:"w-full p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(Z.z,{size:"sm",onClick:h,disabled:!d.trim(),children:"R\xe9pondre"}),(0,t.jsx)(Z.z,{size:"sm",variant:"outline",onClick:g,children:"Annuler"})]})]})}),s.replies&&s.replies.length>0&&(0,t.jsx)("div",{className:"mt-4 space-y-3",children:s.replies.map(e=>(0,t.jsxs)("div",{className:"flex space-x-3 pl-4 border-l-2 border-gray-100",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:e.author.avatar?(0,t.jsx)(w.default,{src:e.author.avatar,alt:e.author.name,width:32,height:32,className:"rounded-full"}):(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-4 h-4 text-gray-600"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.author.name}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:G(new Date(e.createdAt))})]}),(0,t.jsx)("p",{className:"text-sm text-gray-900",children:e.content})]})]},e.id))})]})]})})})}let J=[{id:"1",author:{id:"user1",name:"Sarah Cohen",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40&h=40&fit=crop&crop=face",isVerified:!0},content:"Excellent projet ! J'ai h\xe2te de voir le r\xe9sultat final. Cette r\xe9novation \xe9tait vraiment n\xe9cessaire.",createdAt:"2024-05-25T14:30:00Z",likes:12,isLiked:!1,replies:[{id:"2",author:{id:"user2",name:"David Levy",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face"},content:"Tout \xe0 fait d'accord ! Merci pour votre soutien.",createdAt:"2024-05-25T15:00:00Z",likes:3,isLiked:!0}]},{id:"3",author:{id:"user3",name:"Rachel Dubois",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face"},content:"Bravo pour cette initiative ! Je vais participer au financement d\xe8s que possible.",createdAt:"2024-05-24T16:45:00Z",likes:8,isLiked:!0}];var K=a(8896),X=a(6221),Y=a(8664);function Q(e){let{targetId:s,targetType:a,data:l,variant:c="full",className:d="",showGrowth:u=!0,showGoals:p=!0,showAchievements:j=!0}=e,[N,v]=(0,i.useState)(l||null),[b,f]=(0,i.useState)(!l),[y,w]=(0,i.useState)(null);if((0,i.useEffect)(()=>{l||(async()=>{f(!0),await new Promise(e=>setTimeout(e,1e3)),v($),f(!1)})()},[s,a,l]),b)return(0,t.jsx)("div",{className:"space-y-6 ".concat(d),children:[1,2,3].map(e=>(0,t.jsxs)(k.Zb,{className:"p-6 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/3 mb-4"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded"}),(0,t.jsx)("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]},e))})]},e))});if(!N)return null;let Z=[{id:"raised",label:"Total collect\xe9",value:q(N.totalRaised,"EUR"),growth:N.monthlyGrowth.donations,icon:x.Z,color:"text-green-600",bgColor:"bg-green-50"},{id:"donors",label:"Donateurs",value:B(N.totalDonors),growth:N.monthlyGrowth.donors,icon:g.Z,color:"text-blue-600",bgColor:"bg-blue-50"},{id:"campaigns",label:"Campagnes",value:B(N.totalCampaigns),growth:N.monthlyGrowth.campaigns,icon:m.Z,color:"text-purple-600",bgColor:"bg-purple-50"},{id:"avg",label:"Don moyen",value:q(N.avgDonation,"EUR"),growth:5.2,icon:K.Z,color:"text-orange-600",bgColor:"bg-orange-50"}];return"compact"===c?(0,t.jsxs)(k.Zb,{className:"p-4 ".concat(d),children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(X.Z,{className:"w-5 h-5"}),"Impact"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Z.slice(0,2).map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(e.bgColor," flex items-center justify-center mx-auto mb-2"),children:(0,t.jsx)(s,{className:"w-6 h-6 ".concat(e.color)})}),(0,t.jsx)("div",{className:"font-bold text-lg",children:e.value}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.label})]},e.id)})})]}):"summary"===c?(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 ".concat(d),children:Z.map(e=>{let s=e.icon;return(0,t.jsxs)(k.Zb,{className:"p-4 text-center",children:[(0,t.jsx)(s,{className:"w-8 h-8 ".concat(e.color," mx-auto mb-2")}),(0,t.jsx)("div",{className:"font-bold text-xl",children:e.value}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.label}),u&&e.growth&&(0,t.jsxs)("div",{className:"text-xs mt-1 ".concat(e.growth>0?"text-green-600":"text-red-600"),children:[e.growth>0?"+":"",e.growth,"% ce mois"]})]},e.id)})}):(0,t.jsxs)("div",{className:"space-y-6 ".concat(d),children:[(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(X.Z,{className:"w-6 h-6 text-blue-600"}),"M\xe9triques d'impact"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Z.map(e=>{let s=e.icon;return(0,t.jsx)(r.E.div,{whileHover:{scale:1.02},className:"cursor-pointer",onClick:()=>w(y===e.id?null:e.id),children:(0,t.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-colors ".concat(y===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(s,{className:"w-6 h-6 ".concat(e.color)}),u&&e.growth&&(0,t.jsxs)(C.C,{variant:e.growth>0?"default":"secondary",className:"text-xs ".concat(e.growth>0?"text-green-700 bg-green-100":"text-red-700 bg-red-100"),children:[e.growth>0?"+":"",e.growth,"%"]})]}),(0,t.jsx)("div",{className:"font-bold text-2xl mb-1",children:e.value}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.label})]})},e.id)})})]}),(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 text-red-500"}),"Impact social"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(g.Z,{className:"w-8 h-8 text-red-500"})}),(0,t.jsx)("div",{className:"font-bold text-xl text-red-600",children:B(N.socialImpact.beneficiaries)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"B\xe9n\xe9ficiaires aid\xe9s"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(o.Z,{className:"w-8 h-8 text-green-500"})}),(0,t.jsx)("div",{className:"font-bold text-xl text-green-600",children:B(N.socialImpact.projects)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Projets r\xe9alis\xe9s"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(K.Z,{className:"w-8 h-8 text-purple-500"})}),(0,t.jsx)("div",{className:"font-bold text-xl text-purple-600",children:B(N.socialImpact.communities)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Communaut\xe9s touch\xe9es"})]})]})]}),p&&N.goals.length>0&&(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(K.Z,{className:"w-5 h-5 text-blue-500"}),"Objectifs en cours"]}),(0,t.jsx)("div",{className:"space-y-4",children:N.goals.map(e=>{let s=e.current/e.target*100;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:e.title}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[B(e.current)," / ",B(e.target)," ",e.unit]})]}),(0,t.jsx)(z.E,{value:s,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:[s.toFixed(1),"% atteint"]}),e.deadline&&(0,t.jsxs)("span",{children:["\xc9ch\xe9ance: ",new Date(e.deadline).toLocaleDateString()]})]})]},e.id)})})]}),j&&N.achievements.length>0&&(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-yellow-500"}),"R\xe9alisations"]}),(0,t.jsx)("div",{className:"space-y-4",children:N.achievements.map(e=>{let s=(()=>{switch(e.type){case"milestone":return x.Z;case"award":return h.Z;default:return n.Z}})();return(0,t.jsxs)(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(s,{className:"w-5 h-5 text-yellow-600"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.title}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:e.description}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]}),(0,t.jsx)(C.C,{variant:"secondary",className:"capitalize",children:e.type})]},e.id)})})]}),(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 text-indigo-500"}),"Performance d\xe9taill\xe9e"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"font-semibold text-lg",children:[N.conversionRate,"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Taux de conversion"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"font-semibold text-lg",children:[N.retention,"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Fid\xe9lisation"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-lg",children:N.activeCampaigns}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Campagnes actives"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"font-semibold text-lg",children:N.completedCampaigns}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Campagnes termin\xe9es"})]})]})]})]})}let $={totalRaised:127500,totalDonors:342,totalCampaigns:15,activeCampaigns:4,completedCampaigns:11,avgDonation:78.5,conversionRate:12.5,retention:67,socialImpact:{beneficiaries:850,projects:23,communities:5},monthlyGrowth:{donations:15.3,donors:8.7,campaigns:2.1},achievements:[{id:"1",title:"Objectif 100k€ atteint",description:"Premier cap de collecte franchi avec succ\xe8s",icon:"milestone",date:"2024-04-15T10:00:00Z",type:"milestone"},{id:"2",title:"Prix de l'association de l'ann\xe9e",description:"Reconnu par la ville pour son impact communautaire",icon:"award",date:"2024-03-20T10:00:00Z",type:"award"},{id:"3",title:"Partenariat officiel \xe9tabli",description:"Reconnaissance institutionnelle de nos actions",icon:"recognition",date:"2024-02-10T10:00:00Z",type:"recognition"}],goals:[{id:"1",title:"Objectif annuel de collecte",current:127500,target:2e5,unit:"€",deadline:"2024-12-31T23:59:59Z"},{id:"2",title:"Nombre de donateurs",current:342,target:500,unit:"donateurs",deadline:"2024-12-31T23:59:59Z"},{id:"3",title:"B\xe9n\xe9ficiaires aid\xe9s",current:850,target:1e3,unit:"personnes",deadline:"2024-12-31T23:59:59Z"}]};var ee=a(2023),es=a(6858),ea=a(740);function et(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return new Intl.NumberFormat("fr-FR",{style:"currency",currency:s}).format(e)}function ei(e){let s=Math.floor((new Date().getTime()-e.getTime())/864e5);return 0===s?"Aujourd'hui":1===s?"Hier":s<7?"Il y a ".concat(s," jours"):s<30?"Il y a ".concat(Math.floor(s/7)," semaines"):s<365?"Il y a ".concat(Math.floor(s/30)," mois"):"Il y a ".concat(Math.floor(s/365)," ans")}function el(e){let{currentId:s,currentType:a,associationId:l,variant:c="cards",maxItems:n=6,showType:o="all",algorithm:d="similar",className:m=""}=e,[h,g]=(0,i.useState)([]),[u,p]=(0,i.useState)(!0),[j,N]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{p(!0),await new Promise(e=>setTimeout(e,800));let e=[...ec];switch("all"!==o&&(e=e.filter(e=>e.type===o)),e=e.filter(e=>e.id!==s),d){case"popular":e.sort((e,s)=>s.stats.value-e.stats.value);break;case"recent":e.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime());break;case"related":"campaign"===a&&l&&(e=e.filter(e=>"campaign"===e.type||e.id===l)),e.sort((e,s)=>s.score-e.score);break;default:e.sort((e,s)=>s.score-e.score)}g(e.slice(0,n)),p(!1)})()},[s,a,l,o,d,n]);let v=j?h.filter(e=>e.category===j):h,b=[...new Set(h.map(e=>e.category))];return u?(0,t.jsxs)("div",{className:"space-y-4 ".concat(m),children:[(0,t.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/3 animate-pulse"}),(0,t.jsx)("div",{className:"grid gap-4 ".concat("list"===c?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:Array.from({length:n}).map((e,s)=>(0,t.jsxs)(k.Zb,{className:"p-4 animate-pulse",children:[(0,t.jsx)("div",{className:"w-full h-32 bg-gray-300 rounded mb-3"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/2 mb-3"}),(0,t.jsx)("div",{className:"h-2 bg-gray-300 rounded w-full"})]},s))})]}):0===v.length?(0,t.jsxs)("div",{className:"text-center py-8 ".concat(m),children:[(0,t.jsx)(ee.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu similaire"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Explorez d'autres ","association"===a?"associations":"campagnes"," dans nos cat\xe9gories."]})]}):(0,t.jsxs)("div",{className:"space-y-6 ".concat(m),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 text-blue-600"}),(()=>{switch(d){case"popular":return"Contenus populaires";case"recent":return"R\xe9cemment ajout\xe9s";case"related":return"campaign"===a?"Autres campagnes de cette association":"Contenus associ\xe9s";default:return"Contenus similaires"}})()]}),(0,t.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[v.length," ",v.length>1?"\xe9l\xe9ments trouv\xe9s":"\xe9l\xe9ment trouv\xe9"]})]}),b.length>1&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(Z.z,{variant:j?"outline":"primary",size:"sm",onClick:()=>N(null),children:"Tous"}),b.map(e=>(0,t.jsx)(Z.z,{variant:j===e?"primary":"outline",size:"sm",onClick:()=>N(e),children:e},e))]})]}),(0,t.jsx)("div",{className:"grid gap-6 ".concat("list"===c?"grid-cols-1":"carousel"===c?"grid-cols-1 md:grid-cols-2 lg:grid-cols-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:v.map((e,s)=>(0,t.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,t.jsx)(er,{item:e,variant:c,showProgress:"campaign"===e.type})},e.id))}),h.length>=n&&(0,t.jsx)("div",{className:"text-center pt-4",children:(0,t.jsxs)(y.default,{href:"/".concat("all"===o?"search":"association"===o?"associations":"campaigns","?related=").concat(s),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:["Voir plus de contenus similaires",(0,t.jsx)(es.Z,{className:"w-4 h-4"})]})})]})}function er(e){let{item:s,variant:a,showProgress:l}=e,[r,c]=(0,i.useState)(!1),n="/".concat("association"===s.type?"associations":"campaigns","/").concat(s.id);return"list"===a?(0,t.jsx)(k.Zb,{className:"p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(w.default,{src:s.image,alt:s.title,width:80,height:80,className:"rounded-lg object-cover"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(y.default,{href:n,children:(0,t.jsx)("h4",{className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors line-clamp-1",children:s.title})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(C.C,{variant:"secondary",className:"text-xs",children:"association"===s.type?"Association":"Campagne"}),(0,t.jsx)(C.C,{variant:"outline",className:"text-xs",children:s.category}),s.isVerified&&(0,t.jsx)(C.C,{variant:"default",className:"text-xs bg-green-100 text-green-700",children:"V\xe9rifi\xe9"})]})]}),(0,t.jsx)(Z.z,{variant:"ghost",size:"sm",onClick:()=>c(!r),className:"flex-shrink-0",children:(0,t.jsx)(m.Z,{className:"w-4 h-4 ".concat(r?"fill-red-500 text-red-500":"text-gray-400")})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:s.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.Z,{className:"w-3 h-3"}),s.location]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.Z,{className:"w-3 h-3"}),ei(new Date(s.createdAt))]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"font-semibold text-blue-600",children:[s.stats.value,s.stats.unit," ",s.stats.label]})})]}),l&&s.progress&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)(z.E,{value:s.progress.percentage,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsxs)("span",{children:[et(s.progress.current,"EUR")," collect\xe9s"]}),(0,t.jsxs)("span",{children:[s.progress.percentage.toFixed(0),"% de l'objectif"]})]})]})]})]})}):(0,t.jsxs)(k.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow group",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.default,{src:s.image,alt:s.title,width:400,height:200,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),(0,t.jsx)("div",{className:"absolute top-3 left-3",children:(0,t.jsx)(C.C,{variant:"secondary",className:"bg-white/90 backdrop-blur-sm",children:"association"===s.type?"Association":"Campagne"})}),(0,t.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.isVerified&&(0,t.jsx)(C.C,{className:"bg-green-100 text-green-700 border-green-200",children:"V\xe9rifi\xe9"}),(0,t.jsx)(Z.z,{variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),c(!r)},className:"bg-white/90 backdrop-blur-sm hover:bg-white",children:(0,t.jsx)(m.Z,{className:"w-4 h-4 ".concat(r?"fill-red-500 text-red-500":"text-gray-600")})})]})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)(C.C,{variant:"outline",className:"text-xs mb-2",children:s.category}),(0,t.jsx)(y.default,{href:n,children:(0,t.jsx)("h4",{className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:s.title})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3 mb-3",children:s.description}),l&&s.progress&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)(z.E,{value:s.progress.percentage,className:"h-2 mb-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:et(s.progress.current,"EUR")}),(0,t.jsxs)("span",{children:[s.progress.percentage.toFixed(0),"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,t.jsx)(o.Z,{className:"w-3 h-3"}),s.location]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"font-semibold text-blue-600",children:[s.stats.value,s.stats.unit," ",s.stats.label]})})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,t.jsx)(d.Z,{className:"w-3 h-3"}),ei(new Date(s.createdAt))]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(Z.z,{variant:"ghost",size:"sm",className:"text-xs",children:[(0,t.jsx)(f.Z,{className:"w-3 h-3 mr-1"}),"Voir"]}),(0,t.jsx)(Z.z,{variant:"ghost",size:"sm",className:"text-xs",children:(0,t.jsx)(ea.Z,{className:"w-3 h-3"})})]})]})]})]})}let ec=[{id:"2",type:"association",title:"Aide \xe0 l'Enfance Lyon",description:"Association d\xe9di\xe9e \xe0 l'aide aux enfants en difficult\xe9 dans la r\xe9gion lyonnaise",image:"https://images.unsplash.com/photo-1544027993-37dbfe43562a?w=400&h=200&fit=crop",location:"Lyon",category:"Enfance",isVerified:!0,stats:{value:23,label:"campagnes",unit:""},createdAt:"2022-06-20T10:00:00Z",score:.85},{id:"3",type:"campaign",title:"Vacances pour tous les enfants",description:"Organiser des vacances \xe9ducatives pour les enfants d\xe9favoris\xe9s",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=200&fit=crop",location:"Lyon",category:"Enfance",stats:{value:85,label:"donateurs",unit:""},progress:{current:18500,target:3e4,percentage:61.7},createdAt:"2024-03-01T10:00:00Z",score:.78},{id:"4",type:"association",title:"Secours Populaire Marseille",description:"Aide alimentaire et sociale pour les familles en difficult\xe9",image:"https://images.unsplash.com/photo-1593113598332-cd288d649433?w=400&h=200&fit=crop",location:"Marseille",category:"Social",isVerified:!0,stats:{value:156,label:"b\xe9n\xe9voles",unit:""},createdAt:"2021-09-15T10:00:00Z",score:.72},{id:"5",type:"campaign",title:"R\xe9novation de l'\xe9cole communautaire",description:"Modernisation de l'infrastructure \xe9ducative de notre communaut\xe9",image:"https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=400&h=200&fit=crop",location:"Paris 11\xe8me",category:"\xc9ducation",stats:{value:42,label:"donateurs",unit:""},progress:{current:15800,target:4e4,percentage:39.5},createdAt:"2024-04-10T10:00:00Z",score:.69},{id:"6",type:"campaign",title:"Aide alimentaire d'urgence",description:"Distribution de repas pour les familles en pr\xe9carit\xe9",image:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=400&h=200&fit=crop",location:"Bordeaux",category:"Social",stats:{value:127,label:"donateurs",unit:""},progress:{current:8200,target:15e3,percentage:54.7},createdAt:"2024-05-01T10:00:00Z",score:.65},{id:"7",type:"association",title:"Protection Environnementale",description:"Actions pour la pr\xe9servation de l'environnement local",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=200&fit=crop",location:"Toulouse",category:"Environnement",stats:{value:89,label:"projets",unit:""},createdAt:"2023-03-12T10:00:00Z",score:.58}];var en=a(1713),eo=a(6596),ed=a(257);function em(){var e,s,a,S;let{data:T,isLoading:E,error:I}=(S=(0,l.useParams)().id,(0,en.a)({queryKey:["association",S],queryFn:async()=>{if(!S||"undefined"===S)throw Error("Association ID is required");let e=await eo.M.getAssociationById(S),s=await eo.M.getCampaigns({page:1,limit:20,associationId:S,status:"ACTIVE"});return{...e,campaigns:s.data}},enabled:!!S&&"undefined"!==S,staleTime:3e5,refetchOnWindowFocus:!1,retry:(e,s)=>{var a;return(null===(a=s.message)||void 0===a||!a.includes("404"))&&e<3}})),[D,R]=(0,i.useState)(!1),[P,L]=(0,i.useState)("overview"),[V,F]=(0,i.useState)(!1);if(E)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-64 bg-gray-300"}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-2/3 mb-6"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)("div",{className:"h-32 bg-gray-300 rounded"}),(0,t.jsx)("div",{className:"h-64 bg-gray-300 rounded"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"h-32 bg-gray-300 rounded"}),(0,t.jsx)("div",{className:"h-32 bg-gray-300 rounded"})]})]})]})]})});if(I)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Association non trouv\xe9e"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"L'association que vous recherchez n'existe pas ou n'est plus disponible."}),(0,t.jsx)(y.default,{href:"/associations",children:(0,t.jsx)(Z.z,{children:"Retour aux associations"})})]})});if(!T)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(c.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Chargement des donn\xe9es..."})]})});let U="".concat(ed.env.NEXT_PUBLIC_SITE_URL||"https://hub.example.com","/associations/").concat(T.id);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsx)(A.O,{items:[{label:"Accueil",href:"/"},{label:"Associations",href:"/associations"},{label:T.name,href:"#"}]})})}),(0,t.jsxs)("div",{className:"relative h-64 bg-gradient-to-r from-blue-600 to-purple-600",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black opacity-20"}),(0,t.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-end pb-8",children:(0,t.jsxs)("div",{className:"flex items-end gap-6 w-full",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.default,{src:T.logo,alt:T.name,width:120,height:120,className:"rounded-2xl border-4 border-white shadow-lg"}),T.isVerified&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 bg-green-500 rounded-full p-1",children:(0,t.jsx)(n.Z,{className:"w-6 h-6 text-white"})})]}),(0,t.jsxs)("div",{className:"flex-1 text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:T.name}),T.isVerified&&(0,t.jsx)(C.C,{className:"bg-green-100 text-green-700 border-green-200",children:"V\xe9rifi\xe9"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-white/90",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4"}),T.location]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4"}),"Depuis ",new Date(T.createdAt).getFullYear()]}),(0,t.jsx)(C.C,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:T.category})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(Z.z,{variant:"secondary",onClick:()=>{R(!D)},className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2 ".concat(D?"fill-current":"")}),D?"Suivi":"Suivre"]}),(0,t.jsx)(M,{url:U,title:T.name,description:T.description,variant:"modal",className:"[&>button]:bg-white/20 [&>button]:border-white/30 [&>button]:text-white [&>button]:hover:bg-white/30"})]})]})})]}),(0,t.jsx)("div",{className:"bg-white border-b sticky top-0 z-40",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Vue d&apos;ensemble",icon:x.Z},{id:"campaigns",label:"Campagnes (".concat((null===(e=T.campaigns)||void 0===e?void 0:e.length)||0,")"),icon:m.Z},{id:"impact",label:"Impact",icon:h.Z},{id:"about",label:"\xc0 propos",icon:g.Z}].map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>L(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ".concat(P===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.label]},e.id)})})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:["overview"===P&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["\xc0 propos de ",T.name]}),(0,t.jsxs)("div",{className:"prose max-w-none",children:[(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed ".concat(V?"":"line-clamp-4"),children:T.description}),T.description.length>200&&(0,t.jsx)("button",{onClick:()=>F(!V),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium mt-2",children:V?(0,t.jsxs)(t.Fragment,{children:["Voir moins ",(0,t.jsx)(u.Z,{className:"w-4 h-4"})]}):(0,t.jsxs)(t.Fragment,{children:["Voir plus ",(0,t.jsx)(p.Z,{className:"w-4 h-4"})]})})]})]}),(0,t.jsx)(Q,{targetId:T.id,targetType:"association",variant:"summary",showGrowth:!0}),T.campaigns&&T.campaigns.length>0&&(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Campagnes en cours"}),(0,t.jsx)(y.default,{href:"/campaigns?association=".concat(T.id),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Voir toutes les campagnes"})]}),(0,t.jsx)("div",{className:"grid gap-4",children:T.campaigns.slice(0,2).map(e=>e&&(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-bold mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(z.E,{value:(e.raised||0)/Number(e.goal)*100,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:[(e.raised||0).toLocaleString(),"€ collect\xe9s"]}),(0,t.jsxs)("span",{className:"text-gray-600",children:["Objectif: ",Number(e.goal).toLocaleString(),"€"]})]})]})]},e.id))})]}),(0,t.jsx)(el,{currentId:T.id,currentType:"association",showType:"association",algorithm:"similar",maxItems:3,variant:"cards"})]}),"campaigns"===P&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Campagnes"}),(0,t.jsxs)("p",{className:"text-gray-600",children:[(null===(s=T.campaigns)||void 0===s?void 0:s.length)||0," campagne(s)"]})]}),(0,t.jsx)("div",{className:"grid gap-6",children:(null===(a=T.campaigns)||void 0===a?void 0:a.map(e=>e&&(0,t.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-3",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(z.E,{value:(e.raised||0)/Number(e.goal)*100,className:"h-3"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{children:[(e.raised||0).toLocaleString(),"€ collect\xe9s sur ",Number(e.goal).toLocaleString(),"€"]}),(0,t.jsxs)("span",{children:[Math.round((e.raised||0)/Number(e.goal)*100),"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,t.jsx)(C.C,{variant:"ACTIVE"===e.status?"default":"secondary",children:e.status}),(0,t.jsx)(y.default,{href:"/campaigns/".concat(e.id),children:(0,t.jsx)(Z.z,{size:"sm",children:"Voir d\xe9tails"})})]})]})]},e.id)))||(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Aucune campagne disponible"})})]}),"impact"===P&&(0,t.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:(0,t.jsx)(Q,{targetId:T.id,targetType:"association",variant:"full",showGrowth:!0,showGoals:!0,showAchievements:!0})}),"about"===P&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-6",children:"Informations d\xe9taill\xe9es"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Contact"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4"}),"contact@kehilat-paris.org"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4"}),"+33 1 23 45 67 89"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4"}),(0,t.jsx)("a",{href:"#",className:"text-blue-600 hover:underline",children:"www.kehilat-paris.org"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Statut"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Z,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Association v\xe9rifi\xe9e"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Reconnue d'utilit\xe9 publique"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 text-purple-500"}),(0,t.jsxs)("span",{className:"text-gray-600",children:["Cr\xe9\xe9e le ",new Date(T.createdAt).toLocaleDateString()]})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Mission et valeurs"}),(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:T.description})]})]})]}),(0,t.jsx)(H,{targetId:T.id,targetType:"association",allowComments:!0,currentUserId:"user-current"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Statistiques"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Campagnes totales"}),(0,t.jsx)("span",{className:"font-semibold",children:T.totalCampaigns})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Campagnes actives"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:T.activeCampaigns})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Membre depuis"}),(0,t.jsx)("span",{className:"font-semibold",children:G(new Date(T.createdAt))})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Derni\xe8re activit\xe9"}),(0,t.jsx)("span",{className:"font-semibold",children:G(new Date(T.updatedAt))})]})]})]}),(0,t.jsxs)(k.Zb,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Actions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(Z.z,{className:"w-full",size:"lg",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Faire un don"]}),(0,t.jsxs)(Z.z,{variant:"outline",className:"w-full",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Contacter"]}),(0,t.jsxs)(Z.z,{variant:"outline",className:"w-full",children:[(0,t.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Site web"]})]})]}),(0,t.jsx)(el,{currentId:T.id,currentType:"association",showType:"association",algorithm:"similar",maxItems:3,variant:"list"})]})]})})]})}},3397:function(e,s,a){"use strict";a.d(s,{O:function(){return n}});var t=a(7437),i=a(2265),l=a(9637),r=a(407),c=a(7648);function n(e){let{items:s,className:a="",showHome:n=!0,separator:o}=e,d=n?[{label:"Accueil",href:"/",icon:l.Z},...s]:s,m=(0,t.jsx)(r.Z,{className:"w-4 h-4 text-gray-400"});return(0,t.jsx)("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-2 text-sm ".concat(a),children:d.map((e,s)=>{let a=s===d.length-1,l=e.icon;return(0,t.jsxs)(i.Fragment,{children:[s>0&&(o||m),(0,t.jsxs)("div",{className:"flex items-center",children:[l&&(0,t.jsx)(l,{className:"w-4 h-4 mr-1"}),e.href&&!a?(0,t.jsx)(c.default,{href:e.href,className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.label}):(0,t.jsx)("span",{className:a?"text-gray-900 font-medium":"text-gray-600",children:e.label})]})]},s)})})}}},function(e){e.O(0,[543,828,815,950,713,39,616,971,117,744],function(){return e(e.s=6661)}),_N_E=e.O()}]);