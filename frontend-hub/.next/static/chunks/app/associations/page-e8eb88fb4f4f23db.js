(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{4942:function(e,a,t){Promise.resolve().then(t.bind(t,3425))},3425:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var s=t(7437),i=t(2265),r=t(89),l=t(740),n=t(2489),o=t(875),c=t(2720),d=t(3774),u=t(5302),m=t(5252),x=t(1047),h=t(8614),g=t(9653),p=t(2381),v=t(279),b=t(3448);let f=i.forwardRef((e,a)=>{let{className:t,placeholder:i,options:r,...l}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{className:(0,b.cn)("flex h-10 w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-8 text-sm ring-offset-background focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l,children:[i&&(0,s.jsx)("option",{value:"",disabled:!0,children:i}),r.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,s.jsx)(o.Z,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400 pointer-events-none"})]})});f.displayName="Select";var y=t(9174),j=t(9376);function N(e){try{return JSON.parse(e)}catch(a){return e}}function w(e,a){let t=(0,j.useRouter)(),s=(0,j.useSearchParams)(),r=(0,i.useMemo)(()=>e,[]),[l,n]=(0,i.useState)(r);return(0,i.useEffect)(()=>{let e=new URLSearchParams(s.toString()),t={};if(Object.keys(r).forEach(a=>{let s=e.get(a);null!==s&&("boolean"==typeof r[a]?t[a]="true"===s:"number"==typeof r[a]?t[a]=Number(s)||0:t[a]=N(s))}),a)try{let e=localStorage.getItem(a);if(e){let a=N(e);Object.assign(t,a)}}catch(e){console.error("Erreur lors du chargement depuis localStorage:",e)}n(e=>({...e,...t}))},[s,a]),[l,(0,i.useCallback)(e=>{n(s=>{let i={...s,...e},l=new URLSearchParams;Object.entries(i).forEach(e=>{let[a,t]=e;null!=t&&""!==t&&t!==r[a]&&l.set(a,t.toString())});let n=l.toString()?"".concat(window.location.pathname,"?").concat(l.toString()):window.location.pathname;if(t.push(n,{scroll:!1}),a)try{localStorage.setItem(a,JSON.stringify(i))}catch(e){console.error("Erreur lors de la sauvegarde dans localStorage:",e)}return i})},[t,r,a]),(0,i.useCallback)(()=>{if(n(r),t.push(window.location.pathname,{scroll:!1}),a)try{localStorage.removeItem(a)}catch(e){console.error("Erreur lors de la suppression du localStorage:",e)}},[t,r,a])]}function k(e){let a,{onFiltersChange:t,totalResults:r=0,isLoading:b=!1,className:j="",defaultFilters:N={}}=e,[k,C]=(0,i.useState)(!1),[S,E]=w({category:"",location:"",verified:null,minGoal:void 0,maxGoal:void 0,startDate:void 0,endDate:void 0,status:null,...N},"filters"),Z=(e,a)=>{let s={...S,[e]:a};E(s),null==t||t(s)},T=()=>{let e={category:"",location:"",verified:null,minGoal:void 0,maxGoal:void 0,startDate:void 0,endDate:void 0,status:null};E(e),null==t||t(e)},A=(a=0,S.category&&"Toutes les cat\xe9gories"!==S.category&&a++,S.location&&"Toutes les locations"!==S.location&&a++,null!==S.verified&&a++,S.minGoal&&a++,S.maxGoal&&a++,S.startDate&&a++,S.endDate&&a++,S.status&&a++,a);return(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm ".concat(j),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5 text-gray-500"}),(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:"Filtres"}),A>0&&(0,s.jsx)(y.C,{variant:"default",className:"text-xs",children:A}),r>0&&(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",r," r\xe9sultat",r>1?"s":"",")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[A>0&&(0,s.jsxs)(p.z,{variant:"ghost",size:"sm",onClick:T,className:"text-gray-500 hover:text-gray-700",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 mr-1"}),"Effacer"]}),(0,s.jsx)(p.z,{variant:"ghost",size:"sm",onClick:()=>C(!k),className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(o.Z,{className:"w-4 h-4 transition-transform ".concat(k?"rotate-180":"")})})]})]}),(0,s.jsx)("div",{className:"p-4 space-y-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 inline mr-1"}),"Cat\xe9gorie"]}),(0,s.jsx)(f,{options:["Toutes les cat\xe9gories","\xc9ducation","Sant\xe9","Action sociale","Culture","Sport","Environnement","Aide humanitaire","Religion"].map(e=>({label:e,value:"Toutes les cat\xe9gories"===e?"":e})),value:S.category||"",onChange:e=>Z("category",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 inline mr-1"}),"Localisation"]}),(0,s.jsx)(f,{options:["Toutes les locations","Paris","Lyon","Marseille","Toulouse","Nice","Strasbourg","Bordeaux","Lille","Montpellier"].map(e=>({label:e,value:"Toutes les locations"===e?"":e})),value:S.location||"",onChange:e=>Z("location",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 inline mr-1"}),"Statut"]}),(0,s.jsx)(f,{options:[{label:"Toutes",value:""},{label:"V\xe9rifi\xe9es",value:"true"},{label:"Non v\xe9rifi\xe9es",value:"false"}],value:null===S.verified?"":S.verified?"true":"false",onChange:e=>{let a=e.target.value;""===a?Z("verified",null):"true"===a?Z("verified",!0):Z("verified",!1)}})]})]})}),(0,s.jsx)(h.M,{children:k&&(0,s.jsx)(g.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-100 overflow-hidden",children:(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:"Filtres avanc\xe9s"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 inline mr-1"}),"Objectif financier (â‚¬)"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)(v.I,{type:"number",placeholder:"Min",value:S.minGoal||"",onChange:e=>Z("minGoal",e.target.value?parseInt(e.target.value):void 0),className:"text-sm"}),(0,s.jsx)(v.I,{type:"number",placeholder:"Max",value:S.maxGoal||"",onChange:e=>Z("maxGoal",e.target.value?parseInt(e.target.value):void 0),className:"text-sm"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 inline mr-1"}),"Statut des campagnes"]}),(0,s.jsx)(f,{options:[{label:"Tous les statuts",value:""},{label:"Actives",value:"active"},{label:"Termin\xe9es",value:"completed"},{label:"\xc0 venir",value:"upcoming"}],value:S.status||"",onChange:e=>Z("status",""===e.target.value?null:e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date de d\xe9but"}),(0,s.jsx)(v.I,{type:"date",value:S.startDate||"",onChange:e=>Z("startDate",e.target.value||void 0),className:"text-sm"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date de fin"}),(0,s.jsx)(v.I,{type:"date",value:S.endDate||"",onChange:e=>Z("endDate",e.target.value||void 0),className:"text-sm"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:b?"Filtrage en cours...":"".concat(r," r\xe9sultat").concat(r>1?"s":""," trouv\xe9").concat(r>1?"s":"")}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)(p.z,{variant:"outline",size:"sm",onClick:T,disabled:0===A,children:"R\xe9initialiser"})})]})]})})}),A>0&&(0,s.jsx)("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[S.category&&"Toutes les cat\xe9gories"!==S.category&&(0,s.jsxs)(y.C,{variant:"outline",className:"text-xs",children:[S.category,(0,s.jsx)(n.Z,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>Z("category","")})]}),S.location&&"Toutes les locations"!==S.location&&(0,s.jsxs)(y.C,{variant:"outline",className:"text-xs",children:[S.location,(0,s.jsx)(n.Z,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>Z("location","")})]}),null!==S.verified&&(0,s.jsxs)(y.C,{variant:"outline",className:"text-xs",children:[S.verified?"V\xe9rifi\xe9es":"Non v\xe9rifi\xe9es",(0,s.jsx)(n.Z,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>Z("verified",null)})]}),S.status&&(0,s.jsxs)(y.C,{variant:"outline",className:"text-xs",children:[S.status,(0,s.jsx)(n.Z,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>Z("status",null)})]})]})})]})}var C=t(2451),S=t(6266),E=t(407);function Z(e){let{currentPage:a,onPageChange:t,showFirstLast:i=!0,showPrevNext:r=!0,siblingCount:l=1,className:n,totalPages:o}=e,c=(()=>{let e=[];i&&e.push(1);let t=Math.max(1,a-l),s=Math.min(o,a+l);t>(i?2:1)&&e.push("ellipsis");for(let a=t;a<=s;a++)(!i||1!==a)&&(i&&a===o||e.push(a));return s<(i?o-1:o)&&e.push("ellipsis"),i&&o>1&&e.push(o),e})();return o<=1?null:(0,s.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,b.cn)("mx-auto flex w-full justify-center",n),children:(0,s.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[r&&(0,s.jsx)(p.z,{variant:"outline",size:"icon",onClick:()=>t(a-1),disabled:a<=1,"aria-label":"Aller \xe0 la page pr\xe9c\xe9dente",children:(0,s.jsx)(C.Z,{className:"h-4 w-4"})}),c.map((e,i)=>{if("ellipsis"===e)return(0,s.jsx)("div",{className:"flex h-9 w-9 items-center justify-center",children:(0,s.jsx)(S.Z,{className:"h-4 w-4 text-gray-400"})},"ellipsis-".concat(i));let r=e===a;return(0,s.jsx)(p.z,{variant:r?"primary":"outline",size:"icon",onClick:()=>t(e),"aria-label":"Aller \xe0 la page ".concat(e),"aria-current":r?"page":void 0,className:(0,b.cn)(r&&"pointer-events-none"),children:e},e)}),r&&(0,s.jsx)(p.z,{variant:"outline",size:"icon",onClick:()=>t(a+1),disabled:a>=o,"aria-label":"Aller \xe0 la page suivante",children:(0,s.jsx)(E.Z,{className:"h-4 w-4"})})]})})}var T=t(1906),A=t(3812),z=t(5318),M=t(9820),D=t(3145);function O(e){let{children:a,className:t="",href:r,onClick:l,enableHover:n=!0,enableTilt:o=!1}=e,[c,d]=(0,i.useState)(!1),u=(0,T.c)(0),m=(0,T.c)(0),x=(0,A.H)(m,[-100,100],[5,-5]),h=(0,A.H)(u,[-100,100],[-5,5]),p={stiffness:300,damping:30},v=(0,z.q)(x,p),b=(0,z.q)(h,p),f=r?g.E.a:g.E.div;return(0,s.jsx)(f,{href:r,onClick:l,className:"cursor-pointer ".concat(t),style:o?{rotateX:v,rotateY:b,transformStyle:"preserve-3d"}:{},variants:{initial:{scale:1,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},hover:{scale:n?1.02:1,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:300,damping:20}},tap:{scale:.98,transition:{type:"spring",stiffness:400,damping:20}}},initial:"initial",whileHover:"hover",whileTap:"tap",onMouseEnter:()=>d(!0),onMouseMove:e=>{if(!o)return;let a=e.currentTarget.getBoundingClientRect(),t=a.left+a.width/2,s=a.top+a.height/2,i=e.clientX-t,r=e.clientY-s;u.set(i),m.set(r)},onMouseLeave:()=>{d(!1),o&&(u.set(0),m.set(0))},children:(0,s.jsxs)(M.Zb,{className:"relative overflow-hidden bg-white dark:bg-gray-900 transition-colors duration-200",children:[(0,s.jsx)(g.E.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:c?1:0},transition:{duration:.3}}),(0,s.jsx)(g.E.div,{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent pointer-events-none",animate:{x:c?"200%":"-100%"},transition:{duration:.6,ease:"easeInOut"}}),a]})})}function L(e){let{association:a,className:t=""}=e;return(0,s.jsxs)(O,{className:t,enableHover:!0,enableTilt:!0,href:"/associations/".concat(a.id),children:[(0,s.jsxs)(M.Ol,{className:"relative",children:[a.image&&(0,s.jsx)(g.E.div,{className:"w-full h-48 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg mb-4 overflow-hidden",whileHover:{scale:1.05},transition:{duration:.3},children:(0,s.jsx)(D.default,{src:a.image,alt:a.name,width:300,height:200,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)(g.E.h3,{className:"font-semibold text-lg text-gray-900 dark:text-white",layoutId:"title-".concat(a.id),children:a.name}),a.isVerified&&(0,s.jsx)(g.E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring"},className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"V\xe9rifi\xe9 âœ“"})]})]}),(0,s.jsxs)(M.aY,{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm line-clamp-2",children:a.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:a.category}),(0,s.jsx)("span",{children:a.location})]})]}),(0,s.jsx)(M.eW,{className:"pt-4 border-t border-gray-100 dark:border-gray-800",children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full text-sm",children:[(0,s.jsxs)(g.E.div,{className:"text-gray-600 dark:text-gray-300",whileHover:{scale:1.05},children:[a.donationsCount," donateurs"]}),(0,s.jsxs)(g.E.div,{className:"font-semibold text-primary",whileHover:{scale:1.1},children:[a.totalRaised.toLocaleString(),"â‚¬ collect\xe9s"]})]})})]})}var I=t(1832),P=t(3377),G=t(1917),R=t(3227),H=t(1713);class B{static async getAssociations(e){return R.x1.get("/api/hub/associations",e)}static async getAssociation(e){return R.x1.get("/api/hub/associations/".concat(e))}static async getAssociationCampaigns(e){return R.x1.get("/api/hub/associations/".concat(e,"/campaigns"))}static async getAssociationStats(e){return R.x1.get("/api/hub/associations/".concat(e,"/stats"))}static async searchAssociations(e,a){return R.x1.get("/api/hub/associations/search",{q:e,...a})}static async createAssociation(e){return R.x1.post("/api/hub/associations",e)}static async updateAssociation(e,a){return R.x1.patch("/api/hub/associations/".concat(e),a)}static async deleteAssociation(e){return R.x1.delete("/api/hub/associations/".concat(e))}}let F=e=>(0,H.a)({queryKey:R.ad.associationsList(e),queryFn:()=>B.getAssociations(e),staleTime:3e5}),V=e=>({category:e.category||void 0,city:e.location||void 0,isVerified:e.verified||void 0,search:e.search||void 0,sortBy:e.sortBy,sortOrder:e.sortOrder,page:e.page,limit:12});function q(){var e,a;let[t,l]=(0,i.useState)(""),[n,o]=w({category:"",location:"",verified:null,sortBy:"name",sortOrder:"asc",page:1},"filters"),{success:c,error:d}=(0,G.Fm)(),{data:u,isLoading:m,error:x,refetch:h}=F(V({...n,search:t})),g=(null==u?void 0:u.data)||[],p=(null==u?void 0:null===(e=u.meta)||void 0===e?void 0:e.totalPages)||1,v=(null==u?void 0:null===(a=u.meta)||void 0===a?void 0:a.total)||0;return x&&d("Erreur lors du chargement des associations"),(0,s.jsx)(I.n1,{children:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Annuaire des Associations"}),(0,s.jsxs)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["D\xe9couvrez et soutenez les associations qui Å“uvrent pour notre communaut\xe9.",v>0&&(0,s.jsxs)("span",{className:"block mt-2 font-medium text-blue-600",children:[v," association",v>1?"s":""," trouv\xe9e",v>1?"s":""]})]})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(r.E,{onSearch:e=>{l(e),o({page:1})},placeholder:"Rechercher une association par nom, cat\xe9gorie ou localisation...",className:"max-w-2xl mx-auto"})}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)("div",{className:"lg:w-80 flex-shrink-0",children:(0,s.jsx)(k,{onFiltersChange:e=>{o({...e,sortBy:"name",sortOrder:"asc",page:1})},totalResults:v,isLoading:m})}),(0,s.jsx)("div",{className:"flex-1",children:m?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"h-6 w-48 bg-gray-200 rounded animate-pulse"}),(0,s.jsx)("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse"})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((e,a)=>(0,s.jsx)(P.ym,{},a))})]}):g.length>0?(0,s.jsxs)(I.v3,{children:[(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:g.map((e,a)=>(0,s.jsx)(I.xH,{children:(0,s.jsx)(L,{association:{...e,location:"".concat(e.city||"").concat(e.city&&e.country?", ":"").concat(e.country||""),image:e.logoUrl||"https://images.unsplash.com/photo-".concat(1559027615+a,"-cd4628902d4a?w=300&h=200&fit=crop")}})},e.id))}),p>1&&(0,s.jsx)("div",{className:"mt-12 flex justify-center",children:(0,s.jsx)(Z,{currentPage:n.page,totalPages:p,onPageChange:e=>{o({page:e}),window.scrollTo({top:0,behavior:"smooth"})}})})]}):(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"w-32 h-32 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucune association trouv\xe9e"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Essayez de modifier vos crit\xe8res de recherche ou vos filtres."}),(0,s.jsx)("button",{onClick:()=>{h(),c("Liste des associations actualis\xe9e")},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Actualiser la liste"})]})})]})]})})})}function _(){return(0,s.jsx)(G.VW,{children:(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Chargement des associations..."})]})}),children:(0,s.jsx)(q,{})})})}},1917:function(e,a,t){"use strict";t.d(a,{Fm:function(){return j},VW:function(){return b}});var s=t(7437),i=t(8614),r=t(9653),l=t(2265),n=t(5302),o=t(2252),c=t(3639),d=t(3245),u=t(5965),m=t(2489);let x=(0,l.createContext)(null);function h(){let e=(0,l.useContext)(x);if(!e)throw Error("useToast must be used within a ToastProvider");return e}let g={success:n.Z,error:o.Z,warning:c.Z,info:d.Z},p={success:"border-green-200 bg-green-50 text-green-900 dark:border-green-800 dark:bg-green-900/20 dark:text-green-100",error:"border-red-200 bg-red-50 text-red-900 dark:border-red-800 dark:bg-red-900/20 dark:text-red-100",warning:"border-yellow-200 bg-yellow-50 text-yellow-900 dark:border-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-100",info:"border-blue-200 bg-blue-50 text-blue-900 dark:border-blue-800 dark:bg-blue-900/20 dark:text-blue-100"},v={success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"};function b(e){let{children:a}=e,[t,i]=(0,l.useState)([]),r=(0,l.useCallback)(e=>{i(a=>a.filter(a=>a.id!==e))},[]),n=(0,l.useCallback)(e=>{let a=Math.random().toString(36).substr(2,9),t={...e,id:a};return i(e=>[t,...e]),0!==e.duration&&setTimeout(()=>{r(a)},e.duration||5e3),a},[r]),o=(0,l.useCallback)(()=>{i([])},[]);return(0,s.jsxs)(x.Provider,{value:{toasts:t,addToast:n,removeToast:r,clearAll:o},children:[a,(0,s.jsx)(f,{})]})}function f(){let{toasts:e}=h();return(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 w-full max-w-sm",children:(0,s.jsx)(i.M,{mode:"popLayout",children:e.map(e=>(0,s.jsx)(y,{toast:e},e.id))})})}function y(e){let{toast:a}=e,{removeToast:t}=h(),i=g[a.type];return(0,s.jsxs)(r.E.div,{layout:!0,initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"\n        relative p-4 rounded-lg border shadow-lg backdrop-blur-sm\n        ".concat(p[a.type],"\n      "),children:[a.duration&&a.duration>0&&(0,s.jsx)(r.E.div,{className:"absolute bottom-0 left-0 h-1 bg-current opacity-30 rounded-b-lg",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:a.duration/1e3,ease:"linear"}}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(r.E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring"},children:(0,s.jsx)(i,{className:"w-5 h-5 ".concat(v[a.type]," flex-shrink-0")})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)(r.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.15},className:"font-medium text-sm",children:a.title}),a.description&&(0,s.jsx)(r.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-sm opacity-80 mt-1",children:a.description}),a.action&&(0,s.jsx)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"mt-3",children:(0,s.jsxs)("button",{onClick:a.action.onClick,className:"\n                  inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium\n                  transition-colors duration-200\n                  ".concat("destructive"===a.action.variant?"bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50":"bg-white/80 text-current hover:bg-white dark:bg-gray-800/80 dark:hover:bg-gray-800","\n                "),children:[(0,s.jsx)(u.Z,{className:"w-3 h-3"}),a.action.label]})})]}),(0,s.jsx)(r.E.button,{onClick:()=>{var e;null===(e=a.onDismiss)||void 0===e||e.call(a),t(a.id)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-current/60 hover:text-current transition-colors duration-200",children:(0,s.jsx)(m.Z,{className:"w-4 h-4"})})]})]})}function j(){let{addToast:e}=h();return{success:(a,t,s)=>e({type:"success",title:a,description:t,action:s}),error:(a,t,s)=>e({type:"error",title:a,description:t,action:s,duration:7e3}),warning:(a,t,s)=>e({type:"warning",title:a,description:t,action:s}),info:(a,t,s)=>e({type:"info",title:a,description:t,action:s})}}}},function(e){e.O(0,[543,828,815,713,416,89,966,971,117,744],function(){return e(e.s=4942)}),_N_E=e.O()}]);